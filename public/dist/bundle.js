!function(e){function t(t){for(var r,c,s=t[0],i=t[1],u=t[2],f=0,m=[];f<s.length;f++)c=s[f],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&m.push(a[c][0]),a[c]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(l&&l(t);m.length;)m.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var i=n[s];0!==a[i]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={0:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var s=window.webpackJsonp=window.webpackJsonp||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=i;o.push([325,1]),n()}({325:function(e,t,n){n(326),e.exports=n(591)},553:function(e,t,n){var r={"./af":173,"./af.js":173,"./ar":174,"./ar-dz":175,"./ar-dz.js":175,"./ar-kw":176,"./ar-kw.js":176,"./ar-ly":177,"./ar-ly.js":177,"./ar-ma":178,"./ar-ma.js":178,"./ar-sa":179,"./ar-sa.js":179,"./ar-tn":180,"./ar-tn.js":180,"./ar.js":174,"./az":181,"./az.js":181,"./be":182,"./be.js":182,"./bg":183,"./bg.js":183,"./bm":184,"./bm.js":184,"./bn":185,"./bn.js":185,"./bo":186,"./bo.js":186,"./br":187,"./br.js":187,"./bs":188,"./bs.js":188,"./ca":189,"./ca.js":189,"./cs":190,"./cs.js":190,"./cv":191,"./cv.js":191,"./cy":192,"./cy.js":192,"./da":193,"./da.js":193,"./de":194,"./de-at":195,"./de-at.js":195,"./de-ch":196,"./de-ch.js":196,"./de.js":194,"./dv":197,"./dv.js":197,"./el":198,"./el.js":198,"./en-au":199,"./en-au.js":199,"./en-ca":200,"./en-ca.js":200,"./en-gb":201,"./en-gb.js":201,"./en-ie":202,"./en-ie.js":202,"./en-il":203,"./en-il.js":203,"./en-in":204,"./en-in.js":204,"./en-nz":205,"./en-nz.js":205,"./en-sg":206,"./en-sg.js":206,"./eo":207,"./eo.js":207,"./es":208,"./es-do":209,"./es-do.js":209,"./es-us":210,"./es-us.js":210,"./es.js":208,"./et":211,"./et.js":211,"./eu":212,"./eu.js":212,"./fa":213,"./fa.js":213,"./fi":214,"./fi.js":214,"./fil":215,"./fil.js":215,"./fo":216,"./fo.js":216,"./fr":217,"./fr-ca":218,"./fr-ca.js":218,"./fr-ch":219,"./fr-ch.js":219,"./fr.js":217,"./fy":220,"./fy.js":220,"./ga":221,"./ga.js":221,"./gd":222,"./gd.js":222,"./gl":223,"./gl.js":223,"./gom-deva":224,"./gom-deva.js":224,"./gom-latn":225,"./gom-latn.js":225,"./gu":226,"./gu.js":226,"./he":227,"./he.js":227,"./hi":228,"./hi.js":228,"./hr":229,"./hr.js":229,"./hu":230,"./hu.js":230,"./hy-am":231,"./hy-am.js":231,"./id":232,"./id.js":232,"./is":233,"./is.js":233,"./it":234,"./it-ch":235,"./it-ch.js":235,"./it.js":234,"./ja":236,"./ja.js":236,"./jv":237,"./jv.js":237,"./ka":238,"./ka.js":238,"./kk":239,"./kk.js":239,"./km":240,"./km.js":240,"./kn":241,"./kn.js":241,"./ko":242,"./ko.js":242,"./ku":243,"./ku.js":243,"./ky":244,"./ky.js":244,"./lb":245,"./lb.js":245,"./lo":246,"./lo.js":246,"./lt":247,"./lt.js":247,"./lv":248,"./lv.js":248,"./me":249,"./me.js":249,"./mi":250,"./mi.js":250,"./mk":251,"./mk.js":251,"./ml":252,"./ml.js":252,"./mn":253,"./mn.js":253,"./mr":254,"./mr.js":254,"./ms":255,"./ms-my":256,"./ms-my.js":256,"./ms.js":255,"./mt":257,"./mt.js":257,"./my":258,"./my.js":258,"./nb":259,"./nb.js":259,"./ne":260,"./ne.js":260,"./nl":261,"./nl-be":262,"./nl-be.js":262,"./nl.js":261,"./nn":263,"./nn.js":263,"./oc-lnc":264,"./oc-lnc.js":264,"./pa-in":265,"./pa-in.js":265,"./pl":266,"./pl.js":266,"./pt":267,"./pt-br":268,"./pt-br.js":268,"./pt.js":267,"./ro":269,"./ro.js":269,"./ru":270,"./ru.js":270,"./sd":271,"./sd.js":271,"./se":272,"./se.js":272,"./si":273,"./si.js":273,"./sk":274,"./sk.js":274,"./sl":275,"./sl.js":275,"./sq":276,"./sq.js":276,"./sr":277,"./sr-cyrl":278,"./sr-cyrl.js":278,"./sr.js":277,"./ss":279,"./ss.js":279,"./sv":280,"./sv.js":280,"./sw":281,"./sw.js":281,"./ta":282,"./ta.js":282,"./te":283,"./te.js":283,"./tet":284,"./tet.js":284,"./tg":285,"./tg.js":285,"./th":286,"./th.js":286,"./tk":287,"./tk.js":287,"./tl-ph":288,"./tl-ph.js":288,"./tlh":289,"./tlh.js":289,"./tr":290,"./tr.js":290,"./tzl":291,"./tzl.js":291,"./tzm":292,"./tzm-latn":293,"./tzm-latn.js":293,"./tzm.js":292,"./ug-cn":294,"./ug-cn.js":294,"./uk":295,"./uk.js":295,"./ur":296,"./ur.js":296,"./uz":297,"./uz-latn":298,"./uz-latn.js":298,"./uz.js":297,"./vi":299,"./vi.js":299,"./x-pseudo":300,"./x-pseudo.js":300,"./yo":301,"./yo.js":301,"./zh-cn":302,"./zh-cn.js":302,"./zh-hk":303,"./zh-hk.js":303,"./zh-mo":304,"./zh-mo.js":304,"./zh-tw":305,"./zh-tw.js":305};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=553},580:function(e,t){},590:function(e,t,n){},591:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return Et})),n.d(t,"persistor",(function(){return kt}));var r=n(0),a=n.n(r),o=n(87),c=n.n(o),s=n(592),i=n(321),u=n.n(i),l=n(7),f=n(59),m=n.n(f);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v="https://kuro-v2-backend.herokuapp.com/",_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=m.a.create({baseURL:v,headers:{Authorization:"Bearer ".concat(e)}});return t},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{type:"ADD_USER",user:e,token:t}},y=function(e){return{type:"EDIT_USER",updates:e}},g=function(e){return{type:"EDIT_USER_CONTACTS",contacts:e}},j=function(e){return function(){return _().get("/users/".concat(e,"/hasAvatar"))}},E=function(e,t){return function(n){return _(e).post("/me/contacts",{contactId:t}).then((function(e){n(g(e.data))}))}};function k(e,t,n,r,a,o,c){try{var s=e[o](c),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(r,a)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=Object(l.b)((function(e){return{Authenticated:!!e.user._id}}),(function(e){return{startLogInUser:function(t,n){return e(function(e,t){return function(n){return _().post("/users/login",{email:e,password:t}).then((function(e){n(b(e.data.user,e.data.token))}))}}(t,n))}}}))((function(e){var t=w(Object(r.useState)(void 0),2),n=t[0],o=t[1],c=function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var r,a,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=document.querySelector("form"),a=r.querySelectorAll("input")[0].value,c=r.querySelectorAll("input")[1].value,t.prev=4,t.next=7,e.startLogInUser(a,c);case 7:e.Authenticated&&(o(void 0),e.history.push("/me")),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(4),o("Invalid Credentials. Please check your email or password."),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[4,10]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function c(e){k(o,r,a,c,s,"next",e)}function s(e){k(o,r,a,c,s,"throw",e)}c(void 0)}))});return function(e){return n.apply(this,arguments)}}();return a.a.createElement("div",{className:"login"},n&&a.a.createElement("span",{className:"error"},n),a.a.createElement("form",{className:"login__form",onSubmit:c},a.a.createElement("input",{type:"text",required:!0,placeholder:"Email",className:"form__input input__login"}),a.a.createElement("input",{type:"password",required:!0,placeholder:"Password",className:"form__input input__login"}),a.a.createElement("button",{className:"button__login"},"Log In")))}));function S(e,t,n,r,a,o,c){try{var s=e[o](c),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(r,a)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=Object(l.b)(void 0,(function(e){return{startSignUpUser:function(t){return e(function(e){return function(t){return _().post("/users",d({},e)).then((function(e){return t(b(e.data.user,e.data.token)),e.data.token}))}}(t))}}}))((function(e){var t=A(Object(r.useState)(void 0),2),n=t[0],o=t[1],c=function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var r,a,c,s,i,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=document.querySelector("form.signup__form"),a=r.querySelectorAll("input")[0].value,c=r.querySelectorAll("input")[1].value,s=r.querySelectorAll("input")[2].value,i=r.querySelectorAll("input")[3].value,u={email:a,username:c,password:s},s===i){t.next=9;break}return t.abrupt("return",o("Password doesn't match."));case 9:if(!(s.length<8)){t.next=11;break}return t.abrupt("return",o("Password length must be greater than 8."));case 11:return t.prev=11,t.next=14,e.startSignUpUser(u);case 14:o(void 0),e.history.push("/me/settings"),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(11),t.t0.response.data&&11e3===t.t0.response.data.code&&o("".concat(Object.keys(t.t0.response.data.keyPattern)," in use.")),console.log(t.t0.response);case 22:case"end":return t.stop()}}),t,null,[[11,18]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function c(e){S(o,r,a,c,s,"next",e)}function s(e){S(o,r,a,c,s,"throw",e)}c(void 0)}))});return function(e){return n.apply(this,arguments)}}();return a.a.createElement("div",{className:"signup"},a.a.createElement("span",{className:"error"},n),a.a.createElement("form",{onSubmit:c,className:"signup__form"},a.a.createElement("input",{type:"text",required:!0,className:"form__input input__login",placeholder:"Email"}),a.a.createElement("input",{type:"text",required:!0,className:"form__input input__login",placeholder:"Username"}),a.a.createElement("input",{minLength:"8",type:"password",required:!0,className:"form__input input__login",placeholder:"Password"}),a.a.createElement("input",{minLength:"8",type:"password",required:!0,className:"form__input input__login",placeholder:"Retype Password"}),a.a.createElement("button",{className:"button__signup"},"Sign Up")))}));function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=function(e){var t=R(Object(r.useState)(void 0),2),n=t[0],o=t[1];return a.a.createElement("div",{className:"home"},a.a.createElement("div",{className:"home__container"},n?a.a.createElement("button",{onClick:function(){return o(!1)},className:"app__button"},a.a.createElement("div",{className:"app__button__back"},"➙")):a.a.createElement(a.a.Fragment,null),a.a.createElement("div",{className:"app__logo__container"},a.a.createElement("span",{className:"app__logo"},"K")),n?a.a.createElement(P,{history:e.history}):a.a.createElement("div",{className:"home__login"},a.a.createElement(x,{history:e.history}),a.a.createElement("span",null,"Don't have an account? Sign Up",a.a.createElement("button",{onClick:function(){return o(!0)},className:"button__redirect__signup"},"Here.")))))},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=m.a.create({baseURL:"https://kuro-v2-backend.herokuapp.com/",headers:{Authorization:"Bearer ".concat(e)}});return t};function D(e,t,n,r,a,o,c){try{var s=e[o](c),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(r,a)}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q=Object(l.b)(void 0,(function(e){return{startHasAvatar:function(t){return e(j(t))}}}))((function(e){var t=T(Object(r.useState)(void 0),2),n=t[0],o=t[1],c=function(){var t,n=(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.startHasAvatar(e.contactId||e.userId).then((function(e){o(e.data)}));case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),o(!1),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,5]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function c(e){D(o,r,a,c,s,"next",e)}function s(e){D(o,r,a,c,s,"throw",e)}c(void 0)}))});return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){(c(),e.displaySmall)&&document.querySelectorAll("#contactavatar").forEach((function(e){e.classList.add("profileavatar__initials--contacts__icon")}))}),[]),e.userId?n?a.a.createElement("img",{className:"profileavatar__image",src:"".concat(v,"users/").concat(e.userId,"/avatar")}):a.a.createElement("div",null,a.a.createElement("img",{style:{display:"none"},className:"profileavatar__image",src:""}),a.a.createElement("span",{className:"profileavatar__initials"},e.username.toUpperCase().substring(0,1))):n?a.a.createElement("img",{className:"profileavatar__image--contact",id:"contactavatar",src:"".concat(v,"users/").concat(e.contactId,"/avatar")}):a.a.createElement("span",{id:"contactavatar",className:"profileavatar__initials"},e.username.toUpperCase().substring(0,1))})),M=n(1),z=n.n(M),F=function(e){return e.sort((function(e,t){return z()(e.createdAt).valueOf()<z()(t.createdAt).valueOf()?1:-1}))};function B(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t,n,r,a,o,c){try{var s=e[o](c),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(r,a)}function V(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){$(o,r,a,c,s,"next",e)}function s(e){$(o,r,a,c,s,"throw",e)}c(void 0)}))}}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||Y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var W=Object(l.b)((function(e){return{contact:e.user.contacts.find((function(t){return t.id===e.filter.id})),username:e.user.username,_id:e.user._id}}),(function(e){return{startFetchMessages:function(t,n){return e(function(e,t){return function(){return U(e).get("/messages/".concat(t))}}(t,n))},startPostMessage:function(t,n){return e(function(e,t){return function(){return U(e).post("/messages",t)}}(t,n))},startPostAttachment:function(t,n,r){return e(function(e,t,n){return function(){var r=new FormData;return r.append("messageAttachment",n),U(e).post("/messages/".concat(t,"/attachment"),r,{headers:{"Content-Type":"multipart/form-data"}})}}(t,n,r))},startFetchAttachment:function(t,n,r){return e(function(e,t,n){return function(){return U(e).get("/messages/".concat(t,"/").concat(n,"/attachment"))}}(t,n,r))},startHasAvatar:function(t){return e(j(t))},startRemoveMessages:function(t,n){return e(function(e,t){return function(){return U(e).delete("/messages/".concat(t))}}(t,n))}}}))((function(e){var t=H(Object(r.useState)([]),2),n=t[0],o=t[1],c=H(Object(r.useState)([]),2),s=c[0],i=c[1],u=H(Object(r.useState)(void 0),2),l=u[0],f=u[1],m=function(){var t=V(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.startFetchMessages(e.token,e.contact.id).then((function(e){o(e.data)}));case 3:f(void 0),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),f("Unable to get previous messages. Please try again.");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){o([].concat(B(n),[s]))}),[s]),Object(r.useEffect)((function(){m(),Ee.on("message",(function(e){i(e)}))}),[]);var p=function(){var t=V(regeneratorRuntime.mark((function t(){var r,a,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=document.getElementById("messagebox__input__message").value,a=document.getElementById("messagebox__input__file").files[0],c={message:r,receivers:[e.contact.id],seen:!1},t.prev=3,r||a){t.next=7;break}return f(void 0),t.abrupt("return");case 7:return t.next=9,e.startPostMessage(e.token,c).then(function(){var t=V(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=3;break}return t.next=3,e.startPostAttachment(e.token,r.data._id,a).then((function(e){Ee.emit("sendMessage",e.data,(function(e){if(e)return console.log(e)})),o([].concat(B(n),[e.data]))}));case 3:Ee.emit("sendMessage",r.data,(function(e){if(e)return console.log(e)})),o([].concat(B(n),[r.data]));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 9:f(void 0),document.getElementById("messagebox__input__message").value="",h(""),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),f("Unable to send. Please try again."),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(){return t.apply(this,arguments)}}(),d=function(){var t=V(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.startRemoveMessages(e.token,r).then((function(e){var t=n.map((function(t){return t._id===e.data._id&&(t.message=e.data.message),t}));o(t)}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),h=function(e){document.querySelector(".input__attachment__title").innerText=e};return a.a.createElement("div",{className:"room"},a.a.createElement("div",{className:"room__container"},a.a.createElement(q,{username:e.contact.username,displaySmall:!1,hasAvatar:e.contact.hasAvatar,contactId:e.contact.id}),a.a.createElement("span",{className:" room__contact__username"},e.contact.username),a.a.createElement("div",{className:"room__chatbox"},F(n).map((function(t){return t.sender===e._id?a.a.createElement("div",{key:t._id,className:"chatbox__messagebox message--sentmessage"},a.a.createElement("span",{className:"chatbox__message"},t.message),a.a.createElement("div",{className:"chatbox__options"},a.a.createElement("input",{type:"checkbox",id:"chatbox__messagebox__options__checkbox"}),a.a.createElement("span",{className:"contact__options__dots"},"..."),a.a.createElement("button",{disabled:t.sender!==e._id,className:"chatbox__messagebox__option__button",onClick:function(){return d(t._id)}},"Delete"))):a.a.createElement("div",{key:t._id,className:"chatbox__messagebox"},a.a.createElement("span",{className:"chatbox__message"},t.message),a.a.createElement("div",{className:"chatbox__options"},a.a.createElement("input",{type:"checkbox",id:"chatbox__messagebox__options__checkbox"}),a.a.createElement("span",{className:"contact__options__dots"},"..."),a.a.createElement("button",{disabled:t.sender!==e._id,className:"chatbox__messagebox__option__button",onClick:function(){return d(t._id)}},"Delete")))}))),a.a.createElement("div",{className:"chatbox__messgaebox"},a.a.createElement("span",{className:"error"},l),a.a.createElement("span",{className:"input__attachment__title"}),a.a.createElement("div",{className:"messagebox__input__container"},a.a.createElement("input",{type:"text",id:"messagebox__input__message"}),a.a.createElement("div",{className:"messagebox__input__attachment"},a.a.createElement("input",{type:"file",accept:"image/*, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/msword, application/pdf",value:void 0,onChange:function(e){h(e.target.files[0].name)},id:"messagebox__input__file"}),a.a.createElement("img",{className:"app__buttonlogo",src:"/images/attachment.png"})),a.a.createElement("button",{onClick:p,className:"button__messagebox"},"Send")))))})),X=function(e){return{type:"SET__CURRENT__CONTACT__ID",id:e}};function K(e,t,n,r,a,o,c){try{var s=e[o](c),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(r,a)}var G=Object(l.b)((function(e,t){var n=e.user.contacts.map((function(e){if(e.id===t.contact.id)return e._id})).filter((function(e){return void 0!==e}));return{token:e.user.token,contactPositionId:n,contactExists:!(n.length<=0)}}),(function(e){return{setCurrentContactId:function(t){return e(X(t))},startFetchMessageAlert:function(t,n){return e(function(e,t){return function(){return U(e).get("/messages/".concat(t,"/messageAlert"))}}(t,n))}}}))((function(e){var t=function(){document.getElementById("".concat(e.contact.id)).style.fontWeight="600"},n=function(){var n,r=(n=regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.startFetchMessageAlert(e.token,e.contact.id).then((function(e){e.data||t()}));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.log(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function c(e){K(o,r,a,c,s,"next",e)}function s(e){K(o,r,a,c,s,"throw",e)}c(void 0)}))});return function(){return r.apply(this,arguments)}}();return Object(r.useEffect)((function(){n(),Ee.on("messageAlert",(function(n){n.senderId===e.contact.id&&t()}))}),[]),a.a.createElement("div",{className:"contact"},a.a.createElement("button",{disabled:e.onSearch,className:"contact__button__enterroom",onClick:function(){e.setCurrentContactId(e.contact.id),e.onhandleBack()}},a.a.createElement(q,{username:e.contact.username,contactId:e.contact.id,displaySmall:!0,hasAvatar:e.contact.hasAvatar})),a.a.createElement("span",{id:e.contact.id,className:"contact__username"},e.contact.username),a.a.createElement("div",{className:"contact__options"},a.a.createElement("input",{id:"contact__options__checkbox",type:"checkbox"}),a.a.createElement("div",{className:"contact__options__dots"},a.a.createElement("span",null,"."),a.a.createElement("span",null,"."),a.a.createElement("span",null,".")),a.a.createElement("div",{className:"contact__options__buttons__container"},a.a.createElement("button",{className:"contact__options__button",disabled:!e.contactPositionId[0],onClick:function(){return e.history.push("/me/contactdetails/id=".concat(e.contact._id||e.contactPositionId))}},"Details"),e.contactExists?a.a.createElement("button",{className:"contact__options__button",onClick:function(){return e.onhandleRemove(e.contact.id)}},"Remove"):a.a.createElement("button",{className:"contact__options__button",onClick:function(t){alert("Request Sent."),e.onhandleSendRequest({requestType:"friend__Request",receiverId:e.contact.id}),t.target.disabled=!0}},"Add"))))})),Q=n(319),Z=n.n(Q),ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.filter((function(e){return e.username.toLowerCase().includes(t.toLowerCase())}))},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=m.a.create({baseURL:"https://kuro-v2-backend.herokuapp.com/",headers:{Authorization:"Bearer ".concat(e)}});return t};function ne(e,t,n,r,a,o,c){try{var s=e[o](c),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(r,a)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){ne(o,r,a,c,s,"next",e)}function s(e){ne(o,r,a,c,s,"throw",e)}c(void 0)}))}}var ae=function(){return a.a.createElement("div",{className:"contact__placeholder"},a.a.createElement("div",{className:"contact__placeholder__avatarplaceholder"}),a.a.createElement("div",{className:"contact__username"}))},oe=Object(l.b)((function(e,t){if(!t.onSearch)return{contacts:ee(e.user.contacts,e.filter.text)}}),(function(e){return{startDeleteContact:function(t,n){return e(function(e,t){return function(n){return _(e).delete("/me/contacts/".concat(t)).then((function(e){n(g(e.data))}))}}(t,n))},startPostNotification:function(t,n){return e(function(e,t){return function(){return te(e).post("/me/notifications",t)}}(t,n))}}}))((function(e){var t=function(){var t=re(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!confirm("Are you sure you want to delete this person from your contacts?")){t.next=4;break}return t.next=4,e.startDeleteContact(e.token,n);case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),alert("An error has occured. Please try again."),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),n=function(){var t=re(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.startPostNotification(e.token,n).then((function(e){Ee.emit("sendFriendRequest",e.data,(function(e){return console.log(e)}))}));case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),alert("Unexpected error. Please try again later."),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:"contacts"},e.contacts.map((function(r){return a.a.createElement(Z.a,{key:r.id,placeholder:a.a.createElement(ae,null)},a.a.createElement(G,{key:r.id,onhandleBack:e.onhandleBack,contact:r,history:e.history,onhandleSendRequest:n,onhandleRemove:t,onSearch:e.onSearch&&e.onSearch}))})))})),ce=function(e,t){return function(n){return a.a.createElement("div",{className:"header"},a.a.createElement("button",{className:"avatar__redirector",onClick:function(){return n.history.push("/me")}},a.a.createElement(e,{displaySmall:!1,userId:n.userId,username:n.username})),n.onSettings?a.a.createElement(t,{onhandleLogoutAll:n.onhandleLogoutAll,onhandleRemoveAccount:n.onhandleRemoveAccount,history:n.history}):a.a.createElement(t,{onhandleLogout:n.onhandleLogout,history:n.history}))}},se=Object(l.b)((function(e){return{search:e.filter.text}}),(function(e){return{setfilterText:function(t){return e(function(e){return{type:"FILTER__BY__USERNAME",text:e}}(t))}}}))((function(e){return a.a.createElement("div",{className:"searchBar"},a.a.createElement("input",{placeholder:"Search",value:e.search,className:"searchBarInput",type:"text",onChange:function(t){return e.setfilterText(t.target.value)}}),a.a.createElement("button",{disabled:!e.search.length,onClick:function(){return e.history.push("/me/users/find=".concat(e.search.replace(/ /g,"_")))},className:"kuro__search__button"},"Find"))})),ie=n(320),ue=n.n(ie);function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(e){return function(e){if(Array.isArray(e))return ve(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||he(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t,n,r,a,o,c){try{var s=e[o](c),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(r,a)}function pe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){me(o,r,a,c,s,"next",e)}function s(e){me(o,r,a,c,s,"throw",e)}c(void 0)}))}}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||he(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){if(e){if("string"==typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(e,t):void 0}}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _e=Object(l.b)((function(e){return{token:e.user.token,contacts:e.user.contacts}}),(function(e){var t;return le(t={startAddContact:function(t,n){return e(E(t,n))}},"startAddContact",(function(t,n){return e(E(t,n))})),le(t,"startFetchNotifications",(function(t){return e(function(e){return function(){return te(e).get("/me/notifications")}}(t))})),le(t,"startRemoveNotification",(function(t,n){return e(function(e,t){return function(){return te(e).delete("/me/notifications/".concat(t))}}(t,n))})),t}))((function(e){var t=de(Object(r.useState)([]),2),n=t[0],o=t[1],c=de(Object(r.useState)(void 0),2),s=c[0],i=c[1],u=function(){var t=pe(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.startFetchNotifications(e.token).then((function(e){o(e.data),i(void 0)}));case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),i("Unable to fetch notifications."),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),l=function(){var t=pe(regeneratorRuntime.mark((function t(r,a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.startAddContact(e.token,r);case 3:return t.next=5,e.startRemoveNotification(e.token,a).then((function(e){var t=n.filter((function(t){return t._id!==e.data}));o(t)}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert("Unexpected error has occured. Please try again later!");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}(),f=function(){var t=pe(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.startRemoveNotification(e.token,r).then((function(e){var t=n.filter((function(t){return t._id!==e.data}));o(t)}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),alert("Unexpected error has occured. Please try again later!");case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){u()}),[]),Object(r.useEffect)((function(){Ee.on("request",(function(e){o([].concat(fe(n),[e]))}))}),[]),Object(r.useEffect)((function(){if(o(F(n)),n.length>0){var e=document.getElementById("notification__alert__icon__reddot");e.style.opacity="1";var t=document.getElementById("notification__container__checkbox");t.addEventListener("change",(function(){!0===t.checked&&(console.log("When clicked"),e.style.opacity="0")}))}}),[n]),a.a.createElement("div",{className:"notification__container"},a.a.createElement("input",{type:"checkbox",id:"notification__container__checkbox"}),a.a.createElement("div",{className:"notification__container__notification__icons"},a.a.createElement("img",{className:"app__buttonlogo",src:"/images/notification--icon.png"}),a.a.createElement("div",{id:"notification__alert__icon__reddot"})),s?a.a.createElement("span",{className:"error"},s):a.a.createElement("div",{className:"notifications__requests"},n.map((function(e){return a.a.createElement("div",{key:e._id,className:"notification__request"},a.a.createElement("div",{className:"notification__request__info"},a.a.createElement(q,{displaySmall:!0,username:e.sender,contactId:e.senderId}),a.a.createElement("span",{className:"notification__info"},e.sender," sent you a friend request.")),a.a.createElement("div",{className:"notification__request__options"},a.a.createElement("button",{onClick:function(t){t.target.disabled=!0,l(e.senderId,e._id)},className:"notification__button"},"Accept"),a.a.createElement("button",{onClick:function(){f(e._id)},className:"notification__button"},"Delete")))}))))}));function be(e,t,n,r,a,o,c){try{var s=e[o](c),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(r,a)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){be(o,r,a,c,s,"next",e)}function s(e){be(o,r,a,c,s,"throw",e)}c(void 0)}))}}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return je(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ee=ue()(),ke=ce(q,(function(e){return a.a.createElement("div",{className:"kuro__header__buttoncomponent"},a.a.createElement("button",{onClick:e.onhandleLogout,className:"app__logo__button"},a.a.createElement("img",{className:"app__buttonlogo",src:"/images/logout.png"})),a.a.createElement("button",{onClick:function(){return e.history.push("/me/settings")},className:"app__logo__button"},a.a.createElement("img",{className:"app__buttonlogo",src:"/images/settings.png"})))})),we=Object(l.b)((function(e){return{token:e.user&&e.user.token,hasAvatar:e.user&&e.user.hasAvatar,username:e.user&&e.user.username,_id:e.user&&e.user._id,currentRoomContactId:e.filter.id}}),(function(e){return{startHasAvatar:function(t){return e(j(t))},startLogoutUser:function(t){return e(function(e){return function(t){return _(e).get("/me/logout").then((function(){t({type:"REMOVE_USER"})}))}}(t))},startFetchContacts:function(t){return e(function(e){return function(t){return _(e).get("/me/contacts").then((function(e){t(g(e.data))}))}}(t))}}}))((function(e){var t=ge(Object(r.useState)(void 0),2),n=t[0],o=t[1],c=function(){var t=ye(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.startLogoutUser(e.token);case 3:e.history.push("/"),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),alert("An error has occured. Please try again."),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){s(),n||Et.dispatch(X(""))}),[n]),Object(r.useEffect)((function(){Ee.emit("join",{username:e.username,_id:e._id},(function(e){e&&(alert(e),location.href="/me")}))}),[]),Object(r.useEffect)((function(){s()}),[]);var s=function(){var t=ye(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.startFetchContacts(e.token);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:"kuro"},a.a.createElement("div",{className:"kuro__options"},a.a.createElement(ke,{onSettings:!1,history:e.history,username:e.username,userId:e._id,onhandleLogout:c}),a.a.createElement(_e,null),n&&a.a.createElement("button",{onClick:function(){return o(void 0)},className:" app__logo__button kuro__home__button__back"},a.a.createElement("div",{className:"app__button__back"},"➙"))),n?a.a.createElement(W,{token:e.token}):a.a.createElement("div",{className:"kuro__home"},a.a.createElement(se,{history:e.history}),a.a.createElement(oe,{history:e.history,token:e.token,onhandleBack:function(){o(!0)}})))}));function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Se=function(e){var t=e.Authenticated,n=e.component,r=xe(e,["Authenticated","component"]);return a.a.createElement(s.b,Oe({},r,{component:function(e){return t?a.a.createElement(n,e):a.a.createElement(s.a,{to:"/"})}}))};function Ae(){return(Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ne(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Pe=function(e){var t=e.Authenticated,n=e.component,r=Ne(e,["Authenticated","component"]);return a.a.createElement(s.b,Ae({},r,{component:function(e){return t?a.a.createElement(s.a,{to:"/me"}):a.a.createElement(n,e)}}))};function Re(e,t,n,r,a,o,c){try{var s=e[o](c),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(r,a)}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ue=Object(l.b)((function(e,t){return{searchText:t.match.params.findContact,token:e.user&&e.user.token,userId:e.user._id,username:e.user.username,hasAvatar:e.user.hasAvatar}}),(function(e){return{startFindContacts:function(t,n){return e(function(e,t){return function(){return _(e).get("/me/users/find=".concat(t))}}(t,n))}}}))((function(e){var t=Ie(Object(r.useState)([]),2),n=t[0],o=t[1],c=Ie(Object(r.useState)(void 0),2),s=c[0],i=c[1],u=function(){var t,n=(t=regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.searchText.replace(/_/g," "),t.next=4,e.startFindContacts(e.token,n).then((function(e){o(e.data),i(void 0)}));case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),t.t0.response&&t.t0.response.data&&i(t.t0.response.data),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function c(e){Re(o,r,a,c,s,"next",e)}function s(e){Re(o,r,a,c,s,"throw",e)}c(void 0)}))});return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){u()}),[]),a.a.createElement("div",{className:"searchpage"},s?a.a.createElement("span",{className:"error"},s):a.a.createElement("div",{className:"searchpage__finds"},a.a.createElement("button",{className:"avatar__redirector searchpage__avatar",onClick:function(){return e.history.push("/me")}},a.a.createElement(q,{username:e.username,displaySmall:!1,userId:e.userId})),a.a.createElement(oe,{contacts:n,onSearch:!0,history:e.history,token:e.token})))}));function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fe(e);if(t){var a=Fe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ze(this,n)}}function ze(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(c,e);var t,n,r,o=Me(c);function c(){var e,t;Te(this,c);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return ze(t,(e=t=o.call.apply(o,[this].concat(r)),t.state={username:t.props.user&&t.props.user.username,email:t.props.user&&t.props.me?t.props.user.email:"Unauthorized",password:t.props.user&&t.props.me?"You can't view password.":"Unauthorized",name:t.props.user.name?t.props.user.name:"N/A",age:t.props.user.age?t.props.user.age:"N/A",phone:t.props.user.phone?t.props.user.phone:"N/A",sex:t.props.user.sex?t.props.user.sex:void 0,editable:!1},t.handleName=function(e){var n=e.target.value;t.setState({name:n})},t.handlePassword=function(e){var n=e.target.value;t.setState({password:n})},t.handleAge=function(e){var n=e.target.value;n.match(/^[0-9]*$/)&&t.setState({age:n})},t.handlePhone=function(e){var n=e.target.value;n.match(/^[0-9]*$/)&&t.setState({phone:n})},t.handleSex=function(e){var n=e.target.value;t.setState({sex:n})},t.showPassword=function(){var e=document.getElementById("userDetails__pass");e.disabled?(e.type="text",e.disabled=!1):e.disabled||(e.type="password",e.disabled=!0)},t.changePassword=function(){if(t.state.password){var e={password:t.state.password};confirm("Are you sure you want to save this as your password: ".concat(e.password,"?"))&&t.props.onSave(e)}},t.handleEdit=function(){t.setState({editable:!0})},t.handleSave=function(){var e={age:t.state.age,sex:t.state.sex,phone:t.state.phone,name:t.state.name};confirm("Are you sure you want to make these changes?")&&t.props.onSave(e),t.setState({editable:!1})},e))}return t=c,(n=[{key:"render",value:function(){return a.a.createElement("div",{className:"details__container"},a.a.createElement("div",{className:"details"},a.a.createElement("div",{className:"details__userDetails__detail"},a.a.createElement("span",{className:"details__labels__label"},"Username"),a.a.createElement("input",{className:"input__login form__input",type:"text",value:this.state.username,disabled:!0})),a.a.createElement("div",{className:"details__userDetails__detail"},a.a.createElement("span",{className:"details__labels__label"},"Email"),a.a.createElement("input",{className:"input__login form__input",type:"text",value:this.state.email,disabled:!0})),a.a.createElement("div",{className:"details__userDetails__detail"},a.a.createElement("span",{className:"details__labels__label"},"Password"),a.a.createElement("div",null,a.a.createElement("input",{className:"input__login form__input",type:"password",id:"userDetails__pass",value:this.state.password,onChange:this.handlePassword,disabled:!0}),a.a.createElement("div",{className:"chatbox__options"},a.a.createElement("input",{type:"checkbox",id:"chatbox__messagebox__options__checkbox"}),a.a.createElement("span",{className:"contact__options__dots"},"..."),a.a.createElement("button",{className:"chatbox__messagebox__option__button details__password__button",onClick:this.showPassword},"Show"),this.props.me&&a.a.createElement("button",{className:"chatbox__messagebox__option__button details__password__button",onClick:this.changePassword},"Change")))),a.a.createElement("div",{className:"details__userDetails__detail"},a.a.createElement("span",{className:"details__labels__label"},"Name"),a.a.createElement("input",{className:"input__login form__input",type:"text",value:this.state.name,onChange:this.handleName,disabled:!this.state.editable})),a.a.createElement("div",{className:"details__userDetails__detail"},a.a.createElement("span",{className:"details__labels__label"},"Age"),a.a.createElement("input",{className:"input__login form__input",type:"text",maxLength:"2",value:this.state.age,onChange:this.handleAge,disabled:!this.state.editable})),a.a.createElement("div",{className:"details__userDetails__detail"},a.a.createElement("span",{className:"details__labels__label"},"Sex"),a.a.createElement("select",{value:this.state.sex,className:"input__login form__input",onChange:this.handleSex,disabled:!this.state.editable},!this.state.sex&&a.a.createElement("option",{selected:!0},"N/A"),a.a.createElement("option",null,"Male"),a.a.createElement("option",null,"Female"))),a.a.createElement("div",{className:"details__userDetails__detail"},a.a.createElement("span",{className:"details__labels__label"},"Phone"),a.a.createElement("input",{className:"input__login form__input",minLength:"10",maxLength:"10",type:"text",value:this.state.phone,onChange:this.handlePhone,disabled:!this.state.editable}))),a.a.createElement("div",null,this.props.me?this.state.editable?a.a.createElement("button",{className:"userDetails__button",onClick:this.handleSave},"Save"):a.a.createElement("button",{className:"userDetails__button",onClick:this.handleEdit},"Edit"):a.a.createElement(a.a.Fragment,null)))}}])&&Le(t.prototype,n),r&&Le(t,r),c}(a.a.Component);function $e(e,t,n,r,a,o,c){try{var s=e[o](c),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(r,a)}function Ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){$e(o,r,a,c,s,"next",e)}function s(e){$e(o,r,a,c,s,"throw",e)}c(void 0)}))}}function He(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ye(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Je=ce(q,(function(e){return a.a.createElement("div",{className:"kuro__header__buttoncomponent"},a.a.createElement("button",{onClick:e.onhandleLogoutAll,className:"app__logo__button"},a.a.createElement("img",{className:"app__buttonlogo",src:"/images/logout.png"})),a.a.createElement("button",{onClick:e.onhandleRemoveAccount,className:"app__logo__button"},a.a.createElement("img",{className:"app__buttonlogo",src:"/images/removeaccount.png"})))})),We=Object(l.b)((function(e){return{user:e.user,token:e.user&&e.user.token}}),(function(e){return{startEditUser:function(t,n){return e(function(e,t){return function(n){return _(e).patch("/me",d({},t)).then((function(e){n(y(t))}))}}(t,n))},startLogoutAllUser:function(t){return e(function(e){return function(t){return _(e).get("/me/logoutAll").then((function(){t({type:"REMOVE_USER"})}))}}(t))},startDeleteUser:function(t){return e(function(e){return function(t){return _(e).delete("/me").then((function(e){t({type:"REMOVE_USER"})}))}}(t))},startAddAvatar:function(t,n){return e(function(e,t){return function(n){var r=new FormData;return r.append("userAvatar",t),_(e).post("/me/avatar",r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){n(y({hasAvatar:!0}))}))}}(t,n))}}}))((function(e){var t=He(Object(r.useState)(void 0),2),n=t[0],o=t[1],c=He(Object(r.useState)(void 0),2),s=c[0],i=c[1],u=function(){var t=Ve(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,10!==n.phone.length&&alert("Phone Number must be a 10 digit number. Your number will not be updated until you provide a valid number"),t.next=4,e.startEditUser(e.token,n);case 4:o(void 0),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0.response.data.error&&o(t.t0.response.data.error),t.t0.response.data&&11e3===t.t0.response.data.code&&o("".concat(Object.keys(t.t0.response.data.keyPattern)," in use.")),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Ve(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!confirm("Are you sure you want to logout from all active devices?")){t.next=4;break}return t.next=4,e.startLogoutAllUser(e.user.token).then((function(){return e.history.push("/")}));case 4:o(void 0),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),o("Unable to logout. Please try again."),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=Ve(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!confirm("Are you sure you want to remove your account? You can't undo this.")){t.next=4;break}return t.next=4,e.startDeleteUser(e.user.token).then((function(){return e.history.push("/")}));case 4:o(void 0),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),o("Unable to delete account. Please try again."),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),m=function(){var t=Ve(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=document.getElementById("settings__avatar__input")).files||n.files[0]||o("Please upload a image file."),t.prev=2,t.next=5,e.startAddAvatar(e.token,n.files[0]);case 5:o(void 0),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),console.log(t.t0),o("Unknown error. Please try again later.");case 12:i(void 0);case 13:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:"settings"},a.a.createElement(Je,{onSettings:!0,history:e.history,username:e.user.username,userId:e.user._id,onhandleLogoutAll:l,onhandleRemoveAccount:f}),a.a.createElement("div",{className:"settings__avatar__change"},a.a.createElement("input",{id:"settings__avatar__input",value:void 0,onChange:function(t){var n=e.user.hasAvatar?document.querySelector(".profileavatar__image"):document.querySelector(".profileavatar__initials");if(t.target.files[0].name.split(".").reverse()[0].match(/(jpg|jpeg|png)/)){if(e.user.hasAvatar)n.src=URL.createObjectURL(t.target.files[0]);else{n.style.display="none";var r=document.querySelector(".profileavatar__image");r.src=URL.createObjectURL(t.target.files[0]),r.style.display="inline-block"}i(!0)}else o("Only png, jpg and jpeg image files are supported.")},type:"file",accept:"image/png, image/jpg, image/jpeg"}),s?a.a.createElement("button",{className:"settings__avatar__change__button",onClick:m},"Save Avatar"):a.a.createElement("button",{className:"settings__avatar__change__button",onClick:function(){document.getElementById("settings__avatar__input").click()}},"Change Avatar")),a.a.createElement("span",{className:"error error--settings"},n),a.a.createElement(Be,{user:e.user,me:!0,onSave:u}))}));function Xe(e,t,n,r,a,o,c){try{var s=e[o](c),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(r,a)}function Ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qe=Object(l.b)((function(e,t){return{contact:e.user.contacts.find((function(e){return t.match.params.idValue===e._id})),token:e.user.token}}),(function(e){return{startFetchContactDetails:function(t,n){return e(function(e,t){return function(){return _(e).get("/me/contactdetails/id=".concat(t))}}(t,n))}}}))((function(e){var t=Ke(Object(r.useState)({}),2),n=t[0],o=t[1],c=Ke(Object(r.useState)(void 0),2),s=c[0],i=c[1],u=Ke(Object(r.useState)(void 0),2),l=(u[0],u[1]),f=function(){var t,n=(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.startFetchContactDetails(e.token,e.contact.id).then((function(e){o(e.data)}));case 3:l(!0),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0),t.t0.response&&i(t.t0.response.data);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function c(e){Xe(o,r,a,c,s,"next",e)}function s(e){Xe(o,r,a,c,s,"throw",e)}c(void 0)}))});return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){f()}),[]),a.a.createElement("div",{className:"contactdetails"},s?a.a.createElement("span",{className:"error"},s):n.username&&a.a.createElement("div",{className:"contactdetails__container"},a.a.createElement("button",{onClick:function(){return e.history.push("/")},className:" app__logo__button kuro__home__button__back contactdetails__back__button"},a.a.createElement("div",{className:"app__button__back"},"➙")),a.a.createElement("div",{className:"contactdetails__details"},a.a.createElement(q,{displaySmall:!1,userId:e.contact.id,username:e.contact.username}),a.a.createElement(Be,{me:!1,user:n}))))})),Ze=u()(),et=function(){return a.a.createElement("div",{className:"loading"})},tt=Object(l.b)((function(e){return{Authenticated:e.user&&!!e.user._id}}))((function(e){return a.a.createElement(s.c,{history:Ze},a.a.createElement(s.d,null,a.a.createElement(Pe,{Authenticated:e.Authenticated,component:C,path:"/",exact:!0}),a.a.createElement(Se,{component:we,Authenticated:e.Authenticated,path:"/me",exact:!0}),a.a.createElement(r.Suspense,{fallback:a.a.createElement(et,null)},a.a.createElement(Se,{component:Ue,Authenticated:e.Authenticated,path:"/me/users/find=:findContact",exact:!0}),a.a.createElement(Se,{component:We,Authenticated:e.Authenticated,path:"/me/settings",exact:!0}),a.a.createElement(Se,{component:Qe,Authenticated:e.Authenticated,path:"/me/contactdetails/id=:idValue",exact:!0}))))})),nt=n(28),rt=n(68);function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st={},it=n(322),ut=n.n(it),lt=n(323);function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dt,ht={text:"",id:""},vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER__BY__USERNAME":return mt(mt({},e),{},{text:t.text});case"SET__CURRENT__CONTACT__ID":return mt(mt({},e),{},{id:t.id});default:return e}},_t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||nt.d,bt={key:"user",storage:ut.a},yt=Object(rt.b)(bt,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER":return ot(ot({},t.user),{},{token:t.token});case"REMOVE_USER":return{};case"EDIT_USER":return ot(ot({},e),t.updates);case"SET_USER":return ot(ot({},t.user),{},{token:t.token});case"EDIT_USER_CONTACTS":return ot(ot({},e),{},{contacts:t.contacts});case rt.a:return{};default:return e}})),gt=n(324),jt=(n(589),n(590),{store:dt=Object(nt.e)(Object(nt.c)({user:yt,filter:vt}),_t(Object(nt.a)(lt.a))),persistor:Object(rt.c)(dt)}),Et=jt.store,kt=jt.persistor,wt=function(){return a.a.createElement(l.a,{store:Et},a.a.createElement(gt.a,{loading:null,persistor:kt},a.a.createElement(tt,null)))};c.a.render(a.a.createElement(wt,null),document.getElementById("root"))}});
//# sourceMappingURL=bundle.js.map